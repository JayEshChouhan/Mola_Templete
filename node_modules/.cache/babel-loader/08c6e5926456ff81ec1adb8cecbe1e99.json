{"ast":null,"code":"var _jsxFileName = \"/home/my/jayesh/test-app2/test-app2/src/Components/product/products.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { TailSpin } from 'react-loader-spinner';\nimport { ProductGetApi } from \"../../api/product/product\";\nimport { Addtocard, AddtocardGet } from \"../../api/product/card\";\nimport { FetchCardData, FetchWishlistData, GetAuthDetail } from \"../../layout/utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AddToWishlistApi, DeletetoWishlist } from \"../../api/product/wishlist\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = process.env.REACT_APP_baseUrl; // import productsData from \"./productsData\";\n\nexport default function Products(prop) {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userAthantication = GetAuthDetail();\n  const [productsData, setProductsData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const cardDataList = useSelector(card => card.CartReducer.cardData);\n  const WishlistDataList = useSelector(wishlist => wishlist.WishlistReducer.wishlistData);\n  console.log(WishlistDataList);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      try {\n        const ProductDetailmain = await ProductGetApi();\n\n        if (ProductDetailmain.statusCode == 200) {\n          setProductsData(ProductDetailmain.data.results);\n          console.log(productsData);\n        }\n      } catch (error) {\n        console.error(error.message);\n      }\n\n      setLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  const AddToCard = async id => {\n    var qyt = 1;\n    console.log(cardDataList);\n    cardDataList.data.map(data => {\n      if (data.product_id == id) {\n        qyt = data.quantity + 1; // console.log(data.quantity+1);\n\n        console.log(qyt);\n      }\n    });\n    const cardData = {\n      \"product\": id,\n      \"quantity\": qyt\n    };\n\n    try {\n      const cardApi = await Addtocard(cardData, userAthantication);\n\n      if (cardApi.statusCode === 201 || cardApi.statusCode === 200) {\n        FetchCardData(dispatch);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  const AddToWishlist = async id => {\n    const wishlistData = {\n      \"product\": id\n    };\n\n    try {\n      const wishlistApi = await AddToWishlistApi(wishlistData, userAthantication);\n\n      if (wishlistApi.statusCode === 201 || wishlistApi.statusCode === 200) {\n        // FetchCardData(dispatch);\n        FetchWishlistData(dispatch);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  const DeletetoWishlist = async id => {\n    try {\n      const removewishlistApi = await DeletetoWishlist(id, userAthantication);\n\n      if (removewishlistApi.statusCode === 201 || removewishlistApi.statusCode === 200) {\n        FetchWishlistData(dispatch);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-wrap justify-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(TailSpin, {\n        color: \"#00BFFF\",\n        height: 80,\n        width: 80\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 76\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"w-100 text-center mt-2\",\n        children: \"Loading Products....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 127\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }, this), !loading && productsData.map(product => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: prop.grid,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product product-10 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"figure\", {\n            className: \"product-media\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/products/${product.id}`,\n              children: product.images && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${baseUrl}${product.images.image.image}`,\n                alt: product.images.image.product_image_key,\n                className: \"product-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-action\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"javascript:;\",\n                className: \"btn-cart\",\n                onClick: event => {\n                  if (userAthantication) {\n                    AddToCard(product.id);\n                  } else {\n                    navigate('/login');\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"add to cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), console.log(WishlistDataList), WishlistDataList.length > 0 ? WishlistDataList.map(data => {\n                if (data.product === product.id) {\n                  return /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"javascript:;\",\n                    className: \"btn-product-icon btn-wishlist active\",\n                    onClick: event => {\n                      if (userAthantication) {\n                        DeletetoWishlist(product.id);\n                      } else {\n                        navigate('/login');\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Remove to Wishlist\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 29\n                  }, this);\n                } else {\n                  return /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"javascript:;\",\n                    className: \"btn-product-icon btn-wishlist\",\n                    onClick: event => {\n                      if (userAthantication) {\n                        AddToWishlist(product.id);\n                      } else {\n                        navigate('/login');\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Add to Wishlist\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 29\n                  }, this);\n                }\n              }) : /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"javascript:;\",\n                className: \"btn-product-icon btn-wishlist\",\n                onClick: event => {\n                  if (userAthantication) {\n                    AddToWishlist(product.id);\n                  } else {\n                    navigate('/login');\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Add to Wishlist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 26\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-intro\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"product-title\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/products/${product.id}`,\n                  children: product.product_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-price\",\n                children: [\"$\", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"product-description\",\n                children: product.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-detail\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ratings-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ratings\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ratings-val\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ratings-text\",\n                  children: \"( 6 Reviews )\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Products, \"WvUBmRYiE0MAaxoYSiQruWvv3Eo=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n\n_c = Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["/home/my/jayesh/test-app2/test-app2/src/Components/product/products.js"],"names":["React","useEffect","useState","Link","useNavigate","axios","TailSpin","ProductGetApi","Addtocard","AddtocardGet","FetchCardData","FetchWishlistData","GetAuthDetail","useDispatch","useSelector","AddToWishlistApi","DeletetoWishlist","baseUrl","process","env","REACT_APP_baseUrl","Products","prop","dispatch","navigate","userAthantication","productsData","setProductsData","loading","setLoading","cardDataList","card","CartReducer","cardData","WishlistDataList","wishlist","WishlistReducer","wishlistData","console","log","fetchData","ProductDetailmain","statusCode","data","results","error","message","AddToCard","id","qyt","map","product_id","quantity","cardApi","AddToWishlist","wishlistApi","removewishlistApi","product","grid","images","image","product_image_key","event","length","product_name","price","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { TailSpin } from 'react-loader-spinner'\nimport { ProductGetApi } from \"../../api/product/product\";\nimport { Addtocard, AddtocardGet } from \"../../api/product/card\";\nimport { FetchCardData, FetchWishlistData, GetAuthDetail } from \"../../layout/utils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AddToWishlistApi, DeletetoWishlist } from \"../../api/product/wishlist\";\nconst baseUrl = process.env.REACT_APP_baseUrl;\n// import productsData from \"./productsData\";\n\nexport default function Products(prop) {\n\tconst dispatch = useDispatch();\n  const navigate = useNavigate();\n  const userAthantication = GetAuthDetail();\n  const [productsData, setProductsData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const cardDataList = useSelector(card => card.CartReducer.cardData);\n  const WishlistDataList = useSelector(wishlist => wishlist.WishlistReducer.wishlistData);\n  console.log(WishlistDataList);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const ProductDetailmain = await ProductGetApi();\n        if (ProductDetailmain.statusCode == 200) {\n          setProductsData(ProductDetailmain.data.results);\n          console.log(productsData);\n        }\n      } catch (error) {\n        console.error(error.message);\n      }\n      setLoading(false);\n    }\n    fetchData();\n  }, []);\n  const AddToCard = async (id) => {\n    var qyt = 1;\n    console.log(cardDataList);\n    cardDataList.data.map((data)=>{\n      if(data.product_id == id){\n        qyt = data.quantity + 1;\n        // console.log(data.quantity+1);\n        console.log(qyt);\n      }\n    })\n    const cardData = {\n      \"product\": id,\n      \"quantity\": qyt,\n    }\n    try {\n      const cardApi = await Addtocard(cardData,userAthantication);\n      if(cardApi.statusCode===201||cardApi.statusCode===200){\n        FetchCardData(dispatch);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n  const AddToWishlist = async (id) => {\n    const wishlistData = {\n      \"product\": id,\n    }\n    try {\n      const wishlistApi = await AddToWishlistApi(wishlistData,userAthantication);\n      if(wishlistApi.statusCode===201||wishlistApi.statusCode===200){\n        // FetchCardData(dispatch);\n        FetchWishlistData(dispatch);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n  const DeletetoWishlist = async (id) => {\n    try {\n      const removewishlistApi = await DeletetoWishlist(id,userAthantication);\n      if(removewishlistApi.statusCode===201||removewishlistApi.statusCode===200){\n        FetchWishlistData(dispatch);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  }\n  return (\n    <div className=\"row\">\n      {loading && <div className=\"d-flex flex-wrap justify-content-center\"><TailSpin color=\"#00BFFF\" height={80} width={80} /><p className=\"w-100 text-center mt-2\">Loading Products....</p></div>}\n      {!loading && (\n        productsData.map(product => {\n          return (\n            <div className={prop.grid}>\n              <div key={product.id} className=\"product product-10 text-center\">\n                <figure className=\"product-media\">\n                  <Link to={`/products/${product.id}`}>\n                    {product.images && (\n                      <img src={`${baseUrl}${product.images.image.image}`} alt={product.images.image.product_image_key} className=\"product-image\" />\n                    )}\n                  </Link>\n                </figure>\n                <div className=\"product-body\">\n                  <div className=\"product-action\">\n                    <a \n                      href=\"javascript:;\" \n                      className=\"btn-cart\" \n                      onClick={(event)=> \n                        {\n                          if(userAthantication){\n                            AddToCard(product.id)\n                          }else{\n                            navigate('/login')\n                          }\n                        }\n                      }\n                      >\n                        <span>add to cart</span>\n                    </a>\n                    {console.log(WishlistDataList)}\n                    {WishlistDataList.length>0?\n                      WishlistDataList.map(data=>{\n                        if(data.product === product.id){\n                          return (\n                            <a \n                              href=\"javascript:;\" \n                              className=\"btn-product-icon btn-wishlist active\"\n                              onClick={(event)=> \n                                {\n                                  if(userAthantication){\n                                    DeletetoWishlist(product.id)\n                                  }else{\n                                    navigate('/login')\n                                  }\n                                }\n                              }\n                              >\n                                <span>Remove to Wishlist</span>\n                            </a>\n                          )\n                        }else{\n                          return(\n                            <a \n                              href=\"javascript:;\" \n                              className=\"btn-product-icon btn-wishlist\"\n                              onClick={(event)=> \n                                {\n                                  if(userAthantication){\n                                    AddToWishlist(product.id)\n                                  }else{\n                                    navigate('/login')\n                                  }\n                                }\n                              }\n                              >\n                                <span>Add to Wishlist</span>\n                            </a>\n                            \n                          )\n                        }\n                      }):<a \n                      href=\"javascript:;\" \n                      className=\"btn-product-icon btn-wishlist\"\n                      onClick={(event)=> \n                        {\n                          if(userAthantication){\n                            AddToWishlist(product.id)\n                          }else{\n                            navigate('/login')\n                          }\n                        }\n                      }\n                      >\n                        <span>Add to Wishlist</span>\n                    </a>\n                    }\n                  </div>\n                  <div className=\"product-intro\">\n                    <h3 className=\"product-title\">\n                      <Link to={`/products/${product.id}`}>\n                        {product.product_name}\n                      </Link>\n                    </h3>\n                    <div className=\"product-price\">${product.price}</div>\n                    <p className=\"product-description\">{product.description}</p>\n                  </div>\n                  <div className=\"product-detail\">\n                    <div className=\"ratings-container\">\n                      <div className=\"ratings\">\n                        <div className=\"ratings-val\"></div>\n                      </div>\n                      <span className=\"ratings-text\">( 6 Reviews )</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )\n        })\n      )}\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}